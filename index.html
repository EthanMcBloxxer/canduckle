---
title: "Search"
---

<!DOCTYPE html>
<html lang="{{ site.lang | default: 'en-US' }}">
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta charset="utf-8">
		<title>{{ page.title }} - Canduckle</title>
		<link rel="stylesheet" href="{{ '/assets/main.css' | relative_url }}">
	</head>
	<body>
		<div id="search-container">
			<div id="search-box">
				<form id="search-form">
					<input id="search-input" name="query" placeholder="Search"></input>
					<button id="search-submit" onclick="document.location.href = '/?query=' + document.getElementById('search-form').elements['query'].value;">
						<svg fill="none" height="20" width="20">
							<path fill-rule="evenodd" clip-rule="evenodd" d="M13.146 11.583h-.823l-.292-.28a6.74 6.74 0 001.636-4.407 6.77 6.77 0 10-6.771 6.77 6.74 6.74 0 004.406-1.635l.281.292v.823l5.209 5.198 1.552-1.552-5.198-5.209zm-6.25 0a4.681 4.681 0 01-4.688-4.687 4.681 4.681 0 014.688-4.688 4.681 4.681 0 014.687 4.688 4.681 4.681 0 01-4.687 4.687z"></path>
						</svg>
					</button>
				</form>
			</div>
			<p style="margin-top: 10px;">DuckDuckGo's !bangs are supported</p>
		</div>

		<script type="text/javascript">
			document.getElementById("search-form").elements["query"].focus();

			function search(q) {
				if (q.charAt(0) == "!")	{
					console.log("!bang detected, querying DuckDuckGo at https://duckduckgo.com/?q=" + encodeURI(q));
					document.location.href = "https://duckduckgo.com/?q=" + encodeURI(q) + "&t=canduckle";
				}
				else {
					console.log("normal query, querying Candle at https://www.candle.to/search?q=" + encodeURI(q));
					document.location.href = "https://www.candle.to/search?q=" + encodeURI(q) + "&source=canduckle";
				}
			}

			for (let p of new URLSearchParams(window.location.search)) {
				var name = p[0];
				var val = p[1];
				if (name == "query") {
					console.log("Now redirecting...")
					search(val);
				}
			}
		</script>

		{% include footer.html text="Canduckle is a Candle search engine port, but also uses DuckDuckGo to reroute searches with bangs." %}
	</body>
</html>
